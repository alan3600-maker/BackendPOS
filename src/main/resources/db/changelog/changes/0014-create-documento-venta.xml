<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.29.xsd">

	<changeSet id="0014-create-documento-venta" author="lmsc">
		<preConditions onFail="MARK_RAN" onError="HALT">
			<not>
				<tableExists tableName="documento_venta" />
			</not>
		</preConditions>

		<createTable tableName="documento_venta">
			<column name="id" type="BIGINT" autoIncrement="true">
				<constraints primaryKey="true" />
			</column>

			<column name="venta_id" type="BIGINT">
				<constraints nullable="false" />
			</column>

			<column name="tipo_documento" type="VARCHAR(30)" />
			<column name="modalidad" type="VARCHAR(30)" />
			<column name="estado" type="VARCHAR(30)" />

			<column name="serie" type="VARCHAR(20)" />
			<column name="numero" type="BIGINT" />
			<column name="timbrado" type="VARCHAR(20)" />
			<column name="vigencia_desde" type="DATE" />
			<column name="vigencia_hasta" type="DATE" />

			<column name="cdc" type="VARCHAR(60)" />
			<column name="xml_sifen" type="CLOB" />

			<column name="fecha_emision" type="TIMESTAMP" />

			<column name="cliente_nombre" type="VARCHAR(255)" />
			<column name="cliente_doc" type="VARCHAR(30)" />
			<column name="cliente_direccion" type="VARCHAR(255)" />

			<column name="total" type="DECIMAL(19,2)" />
		</createTable>
	</changeSet>


</databaseChangeLog>
